<!-- Insert this line above script imports  -->
<script>
    if (typeof module === 'object') {
        window.module = module;
        module = undefined;
    }
</script>
<link rel="stylesheet" href="node_modules/xel/stylesheets/macos.theme.css">

<link rel="stylesheet" href="css/app.css">

<script src='node_modules/xel/xel.min.js'></script>
<script src='js/angular/angular.min.js'></script>

<!-- <link rel="stylesheet" type="text/css" href="framer/framer/style.css">

<script src="framer/framer/coffee-script.js"></script>
<script src="framer/framer/framer.js"></script>
<script src="framer/framer/framer.generated.js"></script>
<script src="framer/framer/framer.modules.js"></script>
<script src="framer/framer/framer.vekter.js"></script>
<script src="framer/framer/framer.init.js"></script> -->

<!-- Insert this line after script imports -->
<script>
    if (window.module) module = window.module;
</script>


<style>
    .toolbar-header {
        height: 39px;
        background: black;
        z-index: 20000;
    }
    
    x-label {
        font-size: 12px;
        /*    color: #5a5a5a;
    */
        font-weight: 100;
    }
    
    .framerContext {
        top: 39px !Important;
    }
</style>



<div class="window" ng-app="" style="background-color: #000000">
    <header id="toolbar" class="toolbar toolbar-header">
        <x-box class="middle">
            <x-box style="width: 100px;"></x-box>
            <x-box>
                <x-button id="dropdown" skin="flat" style=" color: white; margin-right:15px; top: -8px;">
                    <x-box>
                        <x-label id="device">1024 x 768</x-label>
                        <x-icon name="keyboard-arrow-down"></x-icon>
                    </x-box>
                </x-button>
            </x-box>
            <x-box>
                <x-button id="resize-btn" skin="flat" style="color: white; margin-right:15px; margin-top: 6px;">
                    <x-icon style="color: white;" name="refresh"></x-icon>
                </x-button>

                <x-button id="resize-btn2" skin="flat" style="color: white; margin-right:15px; margin-top: 6px;">
                    <x-icon name="fullscreen"></x-icon>
                </x-button>

            </x-box>

        </x-box>
    </header>
</div>

<script>
    var width = window.innerWidth ||
        document.documentElement.clientWidth ||
        document.body.clientWidth;

    var height = window.innerHeight ||
        document.documentElement.clientHeight ||
        document.body.clientHeight;

    console.log(width, height)

    // document.getElementById("device").innerHTML = (width + " x " + height);
</script>

<script>
    const remote = require('electron').remote;

    document.getElementById("resize-btn").addEventListener("click", function(e) {
        var window = remote.getCurrentWindow();
        window.reload();
    });

    document.getElementById("resize-btn2").addEventListener("click", function(e) {
        var window = remote.getCurrentWindow();
        window.maximize();
    });

    function setCanvasSize(height, width) {
        //;

        document.getElementById('myWidth').value = width;
        document.getElementById('myHeight').value = height;


        var setWidth = document.getElementById('myWidth').value;
        var setHeight = document.getElementById('myHeight').value;
        canvas.setWidth(setWidth);
        canvas.setHeight(setHeight);
        console.info(setWidth, setHeight);
        canvas.calcOffset();

    }
</script>

<script>
    const {
        Menu,
        MenuItem
    } = remote

    const menu = new Menu()

    // Build menu one item at a time, unlike


    menu.append(new MenuItem({
        label: 'Canvas                      ',


        click() {
            var window = remote.getCurrentWindow();
            window.setSize(2048, 1193);
            window.setAspectRatio(16 / 9);
            document.getElementById("device").innerHTML = "Canvas | 2048 x 1152";

        }
    }))

    menu.append(new MenuItem({
        type: 'separator'
    }))

    menu.append(new MenuItem({
        label: 'iPad Air',
        submenu: [{
            label: 'Landscape',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1024, 809);
                window.setAspectRatio(4 / 3);
                document.getElementById("device").innerHTML = "iPad Air Landscape | 1024 x 768";
            }
        }, {
            label: 'Portrait',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(809, 1064);
                window.setAspectRatio(3 / 4);
                document.getElementById("device").innerHTML = "iPad Air Portrait | 768 x 1024";
            }
        }]
    }))

    menu.append(new MenuItem({
        label: 'iPad Mini',
        submenu: [{
            label: 'Landscape',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1024, 809);
                window.setAspectRatio(4 / 3);
                document.getElementById("device").innerHTML = "iPad Air Mini | 1024 x 768";
            }
        }, {
            label: 'Portrait',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(809, 1024);
                window.setAspectRatio(3 / 4);
                document.getElementById("device").innerHTML = "iPad Air Mini | 1024 x 768";
            }
        }]
    }))


    menu.append(new MenuItem({
        label: 'iPad Pro',
        submenu: [{
            label: 'Landscape',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1366, 1065);
                window.setAspectRatio(12 / 9);
                document.getElementById("device").innerHTML = "iPad Air Pro | 1366 x 1024";
            }
        }, {
            label: 'Portrait',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1065, 1366);
                window.setAspectRatio(9 / 12);
                document.getElementById("device").innerHTML = "iPad Air Pro | 1024 x 1366";
            }
        }]
    }))

    menu.append(new MenuItem({
        type: 'separator'
    }))

    menu.append(new MenuItem({
        label: 'Apple iMac',
        click() {
            var window = remote.getCurrentWindow();
            window.setSize(2560, 1440);
            window.setAspectRatio(16 / 9);
            document.getElementById("device").innerHTML = "Apple iMac | 2560 x 1440";
        }
    }))

    menu.append(new MenuItem({
        type: 'separator'
    }))

    menu.append(new MenuItem({
        label: 'Apple MacBook',
        submenu: [{
            label: 'MacBook',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1152, 761);
                window.setAspectRatio(16 / 10);
                document.getElementById("device").innerHTML = "Apple MacBook | 1152 x 720";
            }
        }, {
            label: 'MacBook Air',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1440, 941);
                window.setAspectRatio(16 / 10);
                document.getElementById("device").innerHTML = "Apple MacBook Air | 1440 x 900";
            }
        }, {
            label: 'MacBook Pro',
            click() {
                var window = remote.getCurrentWindow();
                window.setSize(1440, 941);
                window.setAspectRatio(16 / 10);
                document.getElementById("device").innerHTML = "Apple MacBook Pro | 1440 x 900";
            }
        }, ]
    }))

    menu.append(new MenuItem({
        type: 'separator'
    }))

    menu.append(new MenuItem({
        label: 'Nexus Tablet',
        click() {
            var window = remote.getCurrentWindow();
            window.setSize(768, 1065);
            window.setAspectRatio(3 / 4);
            document.getElementById("device").innerHTML = "Nexus Tablet | 768 x 1024";
        }
    }))

    menu.append(new MenuItem({
        label: 'Apple TV',
        click() {
            var window = remote.getCurrentWindow();
            window.setSize(1280, 761);
            window.setAspectRatio(16 / 9);
            document.getElementById("device").innerHTML = "Apple TV | 1280 x 720";
        }
    }))



    // Prevent default action of right click in chromium. Replace with our menu.
    document.getElementById("dropdown").addEventListener('click', (e) => {
        e.preventDefault()
        var window = remote.getCurrentWindow();
        var myX = window.getSize();
        console.log(myX);
        var center = myX[0] / 2 - 110;
        menu.popup(remote.getCurrentWindow(), center, 38)
    }, false)
</script>